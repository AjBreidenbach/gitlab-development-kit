#!/usr/bin/env ruby

require_relative '../lib/shellout.rb'

POSTGRESQL_VERSION = '9.6'.freeze

brew_cellar_pg = Shellout.new(%W[brew --cellar postgresql@#{POSTGRESQL_VERSION}]).try_run

unless brew_cellar_pg.empty?
  brew_cellar_pg_bin = Dir.glob(File.join(brew_cellar_pg, '/*/bin'))

  if brew_cellar_pg_bin.any?
    puts brew_cellar_pg_bin.last
    exit
  end
end

puts Shellout.new(%w[pg_config --bindir]).run