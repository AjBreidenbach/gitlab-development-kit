#!/usr/bin/env ruby

MINIMAL_VERSION = '2.22'

current_git_version = `git version`[/git version (\d+\.\d+.\d+)/, 1]

expected = Gem::Version.new(MINIMAL_VERSION)
actual = Gem::Version.new(current_git_version)

if actual < expected
  abort "We've detected that you are using Git version #{actual}.\nPlease install Git version #{MINIMAL_VERSION} or higher"
end
