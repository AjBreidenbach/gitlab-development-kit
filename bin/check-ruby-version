#!/usr/bin/env ruby

gitlab_repo_ruby_version = IO.read('.ruby-version').strip

expected = Gem::Version.new(gitlab_repo_ruby_version)
actual = Gem::Version.new(RUBY_VERSION)

if actual < expected
  abort "We've detected that you are using Ruby version #{actual}.\nPlease install Ruby version #{gitlab_repo_ruby_version} or higher"
end
